<div class="container">
  <!-- Local Media -->
  <div class="local-media">
    <video #localVideo autoplay muted playsinline></video>
    <div *ngIf="isScreenSharing" class="screen-share-indicator">Screen Sharing</div>
  </div>

  <!-- Remote Videos -->
  <div #remoteContainer class="remote-container">
    <div *ngFor="let userId of remoteStreams.keys()" class="remote-user">
      <div *ngIf="remoteStreams.get(userId)?.camera" class="video-container">
        <video [attr.data-user-id]="userId" data-type="camera" autoplay playsinline></video>
        <div>User {{userId}} Camera</div>
      </div>
      <div *ngIf="remoteStreams.get(userId)?.screen" class="video-container">
        <video [attr.data-user-id]="userId" data-type="screen" autoplay playsinline></video>
        <div>User {{userId}} Screen</div>
      </div>
    </div>
  </div>

  <!-- Audio Container (hidden) -->
  <div #audioContainer style="display: none;"></div>

  <!-- Controls -->
  <div class="controls">
    <button (click)="isInCall ? leaveCall() : joinCall()" [class.active]="isInCall">
      {{ isInCall ? 'Leave' : 'Join' }} Call
    </button>
    <button (click)="toggleMic()" [class.muted]="isMicMuted">
      {{ isMicMuted ? 'Unmute' : 'Mute' }} Mic
    </button>
    <button (click)="toggleCamera()" [class.disabled]="!isCameraEnabled">
      {{ isCameraEnabled ? 'Disable' : 'Enable' }} Camera
    </button>
    <button (click)="toggleScreenShare()" [class.active]="isScreenSharing">
      {{ isScreenSharing ? 'Stop' : 'Start' }} Screen Share
    </button>
  </div>
</div>
